# cd into the examples/schema subdirectory to match the config.json on the example
# file
cd ./examples/schema

host api.datalanche.com

echo Make sure the previous database's name is changed back to my_database
# make sure the previous database's name is changed back to my_database
curl https://api.datalanche.com/query --verbose -X POST -u "GoyY7hI2S5igDS4pG2Vdyg==:e02C96sqR5mvUoQXkCC2Gg==" -H "Content-Type: application/json" -d '{"alter_database":"my_new_database","rename_to": "my_database"}'

echo make sure previous schemas are cleaned up before examples testing
# make sure previous schemas are cleaned up before examples testing
curl https://api.datalanche.com/my_database/query --verbose -X POST -u "GoyY7hI2S5igDS4pG2Vdyg==:e02C96sqR5mvUoQXkCC2Gg==" -H "Content-Type: application/json" -d '{
                        "drop_schema": "my_schema",
                        "cascade": true
                      }'
echo make sure the previous alterred schemas are cleaned up before examples testing
# make sure the previous alterred schemas are cleaned up before examples testing
curl https://api.datalanche.com/my_database/query --verbose -X POST -u "GoyY7hI2S5igDS4pG2Vdyg==:e02C96sqR5mvUoQXkCC2Gg==" -H "Content-Type: application/json" -d '{
                        "drop_schema": "my_new_schema",
                        "cascade": true
                      }'



# schema examples
# create a schema
echo create a schema
python ../schema/create_schema.py

# describe the schema
echo describe the schema
python ../schema/describe_schema.py

# show the created schema
echo show schemas created in my_database
python ../schema/show_schemas.py

# table examples
# create a table
echo create a new table with the name of my_table
python ../table/create_table.py

# describe the table
echo describe the table
python ../table/describe_table.py

# show the tables in my_database, should return 2 tables
python ../table/show_tables.py

# insert data into my_schema.my_table
python ../table/insert.py
